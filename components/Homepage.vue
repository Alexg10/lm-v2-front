<template>
  <div
    class="homepage-container"
    v-touch:swipe.top="scrollDown"
    v-touch:swipe.bottom="scrollUp"
    v-on:mousewheel="scrollSlide"
  >
  <div id="awwwards" style="position: fixed; z-index: 999; transform: translateY(-50%); top: 50%;  right: 0"><a href="https://www.awwwards.com" target="_blank"><svg width="53.08" height="171.358"><path class="js-color-bg" fill="#9BD4D7" d="M0 0h53.08v171.358H0z"></path><g class="js-color-text" fill="#fff"><path d="M20.047 153.665v-1.9h3.888v-4.093h-3.888v-1.9h10.231v1.9h-4.59v4.093h4.59v1.9zM29.898 142.236c-.331.565-.784.997-1.359 1.294s-1.222.446-1.944.446c-.721 0-1.369-.149-1.943-.446a3.316 3.316 0 0 1-1.36-1.294c-.331-.564-.497-1.232-.497-2.002s.166-1.438.497-2.002a3.316 3.316 0 0 1 1.36-1.294c.574-.297 1.223-.445 1.943-.445.723 0 1.369.148 1.944.445a3.307 3.307 0 0 1 1.359 1.294c.331.564.497 1.232.497 2.002s-.166 1.438-.497 2.002m-1.703-3.347c-.435-.33-.967-.496-1.601-.496-.633 0-1.166.166-1.601.496-.433.332-.649.78-.649 1.346 0 .564.217 1.013.649 1.345.435.331.968.497 1.601.497.634 0 1.166-.166 1.601-.497.435-.332.649-.78.649-1.345.001-.566-.214-1.014-.649-1.346M22.911 134.852v-1.813h1.186a3.335 3.335 0 0 1-.951-1.009 2.423 2.423 0 0 1-.352-1.271c0-.682.19-1.229.57-1.645.381-.413.932-.621 1.652-.621h5.262v1.812h-4.721c-.419 0-.727.096-.921.285-.195.19-.292.447-.292.769 0 .302.115.58.35.833.234.254.577.458 1.03.613.454.156.993.234 1.616.234h2.938v1.813h-7.367zM29.898 125.136a3.314 3.314 0 0 1-1.359 1.294c-.575.297-1.222.445-1.944.445-.721 0-1.369-.148-1.943-.445a3.322 3.322 0 0 1-1.36-1.294c-.331-.565-.497-1.232-.497-2.002 0-.771.166-1.438.497-2.003a3.313 3.313 0 0 1 1.36-1.293c.574-.297 1.223-.446 1.943-.446.723 0 1.369.149 1.944.446s1.028.728 1.359 1.293.497 1.232.497 2.003c.001.769-.166 1.436-.497 2.002m-1.703-3.347c-.435-.331-.967-.497-1.601-.497-.633 0-1.166.166-1.601.497-.433.331-.649.778-.649 1.345 0 .564.217 1.013.649 1.344.435.332.968.498 1.601.498.634 0 1.166-.166 1.601-.498.435-.331.649-.779.649-1.344.001-.567-.214-1.014-.649-1.345M22.911 117.75v-1.812h1.199c-.419-.265-.742-.586-.972-.966s-.345-.784-.345-1.213c0-.272.05-.569.146-.892l1.682.336a1.429 1.429 0 0 0-.205.76c0 .576.261 1.048.783 1.418.521.37 1.342.557 2.461.557h2.617v1.812h-7.366zM29.812 111.252c-.391.511-.857.851-1.403 1.016l-.776-1.446c.381-.138.68-.329.893-.577.215-.249.321-.544.321-.885a1.2 1.2 0 0 0-.168-.658c-.112-.175-.294-.263-.548-.263-.225 0-.406.105-.548.313-.142.21-.291.534-.446.973-.019.068-.058.17-.117.307-.224.565-.506 1.004-.848 1.315-.34.313-.779.467-1.314.467-.381 0-.727-.102-1.039-.306a2.185 2.185 0 0 1-.744-.84 2.554 2.554 0 0 1-.279-1.207c0-.497.105-.949.314-1.359.211-.408.506-.725.886-.949l.993 1.082c-.43.292-.644.686-.644 1.184a.84.84 0 0 0 .154.504.471.471 0 0 0 .401.212c.176 0 .338-.103.49-.307.15-.205.334-.604.547-1.199.205-.564.474-1.001.805-1.308.332-.308.756-.46 1.271-.46.721 0 1.299.229 1.732.687s.65 1.057.65 1.797c.001.759-.194 1.396-.583 1.907M35.481 17.006l-4.782 14.969h-3.266l-2.584-9.682-2.584 9.682h-3.268l-4.782-14.969h3.713l2.673 10.276 2.525-10.276h3.445l2.524 10.276 2.674-10.276zM37.978 27.163c1.426 0 2.496 1.068 2.496 2.495 0 1.425-1.07 2.495-2.496 2.495-1.425 0-2.494-1.07-2.494-2.495-.001-1.427 1.069-2.495 2.494-2.495"></path></g></svg></a></div>
    <div v-if="!this.$store.state.back" :class="!this.$store.state.back ? 'intro': 'intro hide'">
      <div class="word-container">
        <div class="word-wrapper word-wrapper-elle">
          <div class="word louise">
            <span class="hide">l</span>
            <span class="hide">
              <div class="hide-left">ouise</div>
            </span>
          </div>
        </div>
        <div class="word-wrapper word-wrapper-aime">
          <div class="word margueritat">
            <span class="hide">m</span>
            <span class="hide">
              <div class="hide-left">argueritat</div>
            </span>
          </div>
        </div>
      </div>
    </div>
    <div class="swiper-slide love-container">
      <div class="home-slide-content red">
        <div class="bg-love">
          <img class="bg-love-cover cover-1 visible" src="/images/home/lm_33.png" alt="cover-1" />
          <img class="bg-love-cover cover-2" src="/images/home/lm_44.png" alt="cover-2" />
          <img class="bg-love-cover cover-3" src="/images/home/lm_22.png" alt="cover-3" />
          <img class="bg-love-cover cover-4" src="/images/home/lm_flower.png" alt="cover-4" />
          <img class="bg-love-cover cover-5" src="/images/home/lm_fluffy.png" alt="cover-5" />
          <img class="bg-love-cover cover-6" src="/images/home/lm_clouds.png" alt="cover-6" />
        </div>
        <LoveContent />
        <div
          class="word-container"
          v-on:mouseenter="loveHover"
          v-on:mouseleave="loveLeave"
          v-on:click="loveClick"
        >
          <div class="word-wrapper word-wrapper-elle">
            <div class="word elle">
              <span class="hide">
                <div class="hide-right">el</div>
              </span>
              <span class="hide">l</span>
              <span class="hide">
                <div class="hide-left">e</div>
              </span>
            </div>
          </div>
          <div class="word-wrapper word-wrapper-aime">
            <div class="word aime">
              <span class="hide">
                <div class="hide-right">ai</div>
              </span>
              <span class="hide">m</span>
              <span class="hide">
                <div class="hide-left">e</div>
              </span>
            </div>
          </div>
        </div>
        <div class="circle-container love" v-touch:start="loveHold" v-touch:end="loveHoldEnd">
          <svg class="circle" xmlns="http://www.w3.org/2000/svg">
            <g>
              <ellipse class="foreground" ry="43" rx="43" cy="46" cx="46" stroke-width="1" />
            </g>
          </svg>
          <div class="hover-text-container">
            <div class="circle-text">Hold me</div>
          </div>
        </div>
      </div>
    </div>
    <div class="swiper-slide work-container">
      <div class="home-slide-content orange">
        <nuxt-link to="project" class="project-link">
            <div class="link-indication-container">
              <div class="link-indication">Take a look</div>
            </div>
          <div
            class="word-container"
            v-on:mouseenter="workHover"
            v-on:mouseleave="particuleAnimLeave"
            v-on:click="workClick"
          >
            <div class="word-wrapper word-wrapper-work">
              <span class="word work">work</span>
            </div>
            <div class="word-wrapper word-wrapper-work">
              <span class="word work">work</span>
            </div>
            <div class="word-wrapper word-wrapper-work">
              <span class="word work">work</span>
            </div>
          </div>
        </nuxt-link>
      </div>
      <div class="circle-container work-hold" v-touch:start="workHold" v-touch:end="workHoldEnd">
        <svg class="circle" xmlns="http://www.w3.org/2000/svg">
          <g>
            <ellipse class="foreground" ry="43" rx="43" cy="46" cx="46" stroke-width="1" />
          </g>
        </svg>
        <div class="hover-text-container">
          <div class="circle-text">Hold me</div>
        </div>
      </div>
    </div>
    <img
      class="arrow link link-hover"
      :src="arrowDown"
      alt="arrowDown"
      v-on="{click: scrollable ? scrollDown : '' }"
    />
  </div>
</template>

<script>
import gsap from "gsap";
import LoveContent from "~/components/project/LoveContent.vue";
import arrowDown from "~/assets/images/ico/arrow-down-ico.svg";

export default {
  components: {
    LoveContent,
  },
  data() {
    return {
      arrowDown,
      coverIndex: 1,
      playing: "",
      coundownTime: "",
      scrollable: false,
      tlIntro: gsap.timeline({ delay: 1 }),
      LoveClickTl: gsap.timeline({ paused: true }),
      workClickTl: gsap.timeline({ paused: true }),
      loveInit: gsap.timeline(),
      loveUp: gsap.timeline({ paused: true }),
      loveUpR: gsap.timeline({ paused: true }),
      loveUpUp: gsap.timeline({ paused: true }),
      loveDown: gsap.timeline({ paused: true }),
      loveDownDown: gsap.timeline({ paused: true }),
      workUp: gsap.timeline({ progress: 1 }),
      workUpUp: gsap.timeline({ progress: 1 }),
      workDownDown: gsap.timeline({ progress: 1 }),
      workDown: gsap.timeline({ progress: 1 }),
      linkAppear: gsap.timeline(),
      loveShowContent: gsap.timeline({ paused: true }),
      hoverEffect: new TimelineMax({ paused: false }),
    };
  },

  methods: {
    scrollUp() {
      var vm = this;
      vm.scrollable = false;
      if (vm.$device.ipad || vm.$device.mobile) {
        document
          .querySelectorAll(
            ".circle-container.work-hold, .circle-container.love"
          )
          .forEach((el) => el.classList.remove("visible"));
      }
      if (
        !document.querySelector(".work-container").classList.contains("visible")
      ) {
        document.querySelector(".work-container").classList.add("visible");
        // console.log('UP FROM LOVE ');
        vm.loveDown.pause(0);
        vm.loveDown.play();
        vm.loveDown.eventCallback("onComplete", function () {
          vm.workDownDown.pause(0);
          vm.workDownDown.play();
          if (vm.$device.ipad || vm.$device.mobile) {
            document
              .querySelector(".circle-container.work-hold")
              .classList.add("visible");
          }
          //show
          setTimeout(() => {
            document.querySelector(".link-indication").classList.add("visible");
            vm.linkAppear.play(1).reverse();
          }, 1000);
        });
      } else {
        // console.log('UP FROM WORK ')
        vm.linkAppear.play(0);
        vm.workDown.pause(0);
        vm.workDown.play();
        vm.workDown.eventCallback("onComplete", function () {
          document.querySelector(".work-container").classList.remove("visible");
          document.querySelector(".link-indication").classList.remove("visible");
          vm.loveDownDown.pause(0);
          vm.loveDownDown.play();
          if (vm.$device.ipad || vm.$device.mobile) {
            document
              .querySelector(".circle-container.love")
              .classList.add("visible");
          }
        });
      }
      setTimeout(() => {
        vm.scrollable = true;
      }, 1500);
    },
    scrollDown() {
      let vm = this;
      vm.scrollable = false;
      if (vm.$device.ipad || vm.$device.mobile) {
        document
          .querySelectorAll(
            ".circle-container.work-hold, .circle-container.love"
          )
          .forEach((el) => el.classList.remove("visible"));
      }
      if (
        document.querySelector(".work-container").classList.contains("visible")
      ) {
        // console.log('Down FROM Work ');
        //hide
        vm.linkAppear.play(0);
        vm.workUpUp.time(0);
        vm.workUpUp.play();
        vm.workUpUp.eventCallback("onComplete", function () {
          document.querySelector(".work-container").classList.remove("visible");
          vm.loveUpR.pause(0);
          vm.loveUpR.play();
          if (vm.$device.ipad || vm.$device.mobile) {
            document
              .querySelector(".circle-container.love")
              .classList.add("visible");
          }
          document.querySelector(".link-indication").classList.remove("visible");
        });

      } else {
        document.querySelector(".work-container").classList.add("visible");
        // console.log('Down FROM LOVE ');
        vm.loveUpUp.pause(0);
        vm.loveUpUp.play();
        vm.loveUpUp.eventCallback("onComplete", function () {
          vm.workUp.pause(0);
          vm.workUp.play();
          if (vm.$device.ipad || vm.$device.mobile) {
            document
              .querySelector(".circle-container.work-hold")
              .classList.add("visible");
          }
          //show
          setTimeout(() => {
            document.querySelector(".link-indication").classList.add("visible");
            vm.linkAppear.play(1).reverse();
          }, 1000);
        });

      }
      setTimeout(() => {
        vm.scrollable = true;
      }, 1500);
    },
    scrollSlide(e) {
      const vm = this;
      if (e.deltaY < 0 && vm.scrollable) {
        vm.scrollUp();
      }
      if (e.deltaY > 0 && vm.scrollable) {
        vm.scrollDown();
      }
    },
    keySlide(e) {
      const vm = this;
      document.onkeydown = function (e) {
        e = e || window.event;
        if (e.keyCode == "38") {
          vm.scrollUp();
        } else if (e.keyCode == "40") {
          vm.scrollDown();
        } else if (e.keyCode == "37") {
          vm.scrollUp();
        } else if (e.keyCode == "39") {
          vm.scrollDown();
        }
      };
    },
    createAbout() {
      const aboutBlock = document.createElement("div");
      aboutBlock.className = "about-block";
      aboutBlock.innerHTML = "about me";

      const aboutContainer = document.querySelector(".cursor");
      aboutContainer.appendChild(aboutBlock);
    },
    loveHover() {
      if (!this.$device.ipad && !this.$device.mobile) {
        document.querySelector(".bg-love").classList.add("visible");
        document.querySelector(".cursor").classList.add("transparent");
        document.querySelector(".about-block").classList.add("visible");
        this.hoverEffect.play();

        this.playing = setInterval(() => {
          this.gif();
        }, 250);
      }
    },
    countdown(action, part) {
      const vm = this;
      let time = 1;
      if (action == "play") {
        this.coundownTime = setInterval(() => {
          if (time == 0) {
            if (part == "work") {
              vm.workClick();
            } else {
              vm.loveClick();
              setTimeout(() => {
                vm.loveHoldEnd();
              }, 1000);
            }
            clearInterval(this.coundownTime);
          }
          time--;
        }, 1000);
      } else {
        clearInterval(this.coundownTime);
      }
    },
    loveHold() {
      const vm = this;
      this.scrollable = false;
      document.querySelector(".bg-love").classList.add("visible");
      document
        .querySelector(".love-container .word-container")
        .classList.add("hover");
      document.querySelector(".circle-container.love").classList.add("hold");
      this.playing = setInterval(() => {
        this.gif();
      }, 250);

      this.countdown("play", "love");
    },
    loveHoldEnd() {
      document.querySelector(".bg-love").classList.remove("visible");
      document
        .querySelector(".love-container .word-container")
        .classList.remove("hover");
      document.querySelector(".circle-container.love").classList.remove("hold");

      clearInterval(this.playing);
      this.countdown("stop", "love");
      this.scrollable = true;
    },
    loveLeave() {
      if (!this.$device.ipad && !this.$device.mobile) {
        document.querySelector(".bg-love").classList.remove("visible");
        document.querySelector(".cursor").classList.remove("transparent");
        document.querySelector(".about-block").classList.remove("visible");
        this.hoverEffect.play().timeScale(2).reverse();
        clearInterval(this.playing);
      }
    },
    loveClick() {
      const vm = this;

      this.LoveClickTl.pause(0);
      this.loveShowContent.pause(0);
      document
        .querySelector(".home-slide-content .word-wrapper-elle")
        .classList.add("anim");
      document
        .querySelector(".home-slide-content .word-wrapper-aime")
        .classList.add("anim");

      this.LoveClickTl.play();
      document.querySelector(".word-container").classList.add("clicked");
      document
        .querySelector(".work-container .word-container")
        .classList.add("hover");
      this.LoveClickTl.eventCallback("onComplete", function () {
        if (!vm.$device.ipad && !vm.$device.mobile) {
          document.querySelector(".bg-love").classList.remove("visible");
        }
        document.querySelector(".love-content").classList.add("visible");
        document.querySelector(".circle-container").classList.remove("visible");
      });
      this.loveShowContent.play();
    },
    workHold() {
      document
        .querySelector(".work-container .word-container")
        .classList.add("hover");
      document
        .querySelector(".circle-container.work-hold")
        .classList.add("hold");
      this.particuleAnim();
      this.scrollable = false;
      this.countdown("play", "work");
    },
    workHoldEnd() {
      document
        .querySelector(".work-container .word-container")
        .classList.remove("hover");
      document
        .querySelector(".circle-container.work-hold")
        .classList.remove("hold");
      this.particuleAnimLeave();
      this.scrollable = true;
      this.countdown("stop", "work");
    },
    workHover() {
      this.linkAppear.play(0);
      this.particuleAnim();
    },
    workClick() {
      var vm = this;
      this.workClickTl.play();
      document.querySelector(".link-indication").classList.remove("visible");
      document
        .querySelector(".work-container .word-container")
        .classList.add("anim");
      document
        .querySelector(".work-container .word-container")
        .classList.add("anim");
      this.particuleAnimLeave();
      this.workClickTl.eventCallback("onComplete", function () {
        vm.workClickTl.kill();
        vm.$store.commit("setBack", false);
        vm.$router.push({
          path: "/project/",
        });
      });
    },

    gif() {
      const foo = document.querySelector(".bg-love");
      var gifLenght = foo.children.length;
      this.coverIndex++;
      var activeBg = document.querySelector(".cover-" + this.coverIndex);
      document
        .getElementsByClassName("bg-love-cover visible")[0]
        .classList.remove("visible");
      activeBg.classList.add("visible");
      if (this.coverIndex >= foo.children.length) {
        this.coverIndex = 0;
      }
    },
    particuleAnim() {
      function random(min, max) {
        return Math.floor(Math.random() * (1 + max - min) + min);
      }
      var tlexplosion = gsap.timeline({});
      var num = 0;
      let vm = this;

      if (!this.$device.ipad && !this.$device.mobile) {
        document.querySelector(".cursor").classList.add("transparent");
      }
      this.inter = window.setInterval(function () {
        var typeParticule = random(1, 12);
        var div = document.createElement("div");
        div.setAttribute("class", "sparkle part-" + num);
        if (!vm.$device.ipad && !vm.$device.mobile) {
          var particules = document.querySelector(".cursor");
        } else {
          var particules = document.querySelector(
            ".word-wrapper.word-wrapper-work:nth-child(1)"
          );
          particules.classList.add("overflow-visible");
        }
        particules.appendChild(div);
        var lastPart = document.querySelector(".part-" + num);
        lastPart.classList.add("sparkle-" + typeParticule);
        createDot(lastPart);
        num++;
      }, 100);

      function createDot(elem) {
        gsap.fromTo(
          elem,
          {
            left: "+=" + random(-20, 20) + "px",
            top: "+=" + random(-20, 20) + "px",
            z: 0,
            opacity: 1,
          },
          {
            duration: 1.25,
            left: "+=" + random(-200, 200) + "px",
            top: "+=" + random(-200, 200) + "px",
            z: "+=" + random(-725, 600),
            opacity: 0,
            ease: "power4.inOut",
          }
        );
      }
    },
    particuleAnimLeave() {
      let vm = this;
      clearInterval(this.inter);
      if (!vm.$device.ipad && !vm.$device.mobile) {
        document
          .querySelector(".word-wrapper.word-wrapper-work:nth-child(1)")
          .classList.remove("overflow-visible");
        document.querySelector(".cursor").classList.remove("transparent");
      }
      setTimeout(function () {
        document.querySelectorAll(".sparkle").forEach((e) => e.remove());
      }, 1500);

      //show
      setTimeout(() => {
        vm.linkAppear.play(1).reverse();
      }, 500);
    },
    letterContainer(className) {
      var word = document.getElementsByClassName(className)[0];
      var wordContent = word.textContent.trim();
      var wordContentSplit = wordContent.split("");
      word.innerHTML = "";

      for (var i = 0; i < wordContentSplit.length; i++) {
        var newSpan = document.createElement("span");
        newSpan.style.display = "inline-block";
        newSpan.className = "staggerLetter";
        if (wordContentSplit[i] == " ") {
          newSpan.style.width = "5px";
        }
        newSpan.innerHTML = wordContentSplit[i];
        word.appendChild(newSpan);
      }
    },
  },
  mounted() {
    let vm = this;

    if (!this.$store.state.back) {
      let vm = this;
      if (!this.$device.ipad && !this.$device.mobile) {
        vm.loveDownDown.play();
        this.tlIntro
          .from(
            ".louise",
            { y: 230, duration: 1.7, ease: "power4.inOut" },
            "intro"
          )
          .from(
            ".margueritat",
            { y: 230, duration: 1.5, ease: "power4.inOut" },
            "intro+=0.25"
          )
          .to(
            ".intro .word-wrapper-elle",
            { left: -37, duration: 0.6, ease: "power4.inOut" },
            "intro+=2"
          )
          .to(
            ".intro .word-wrapper-aime",
            { left: 9, duration: 0.5, ease: "power4.inOut" },
            "intro+=2.3"
          )
          .to(
            ".intro .word-container .hide .hide-left",
            { width: 0, duration: 1.9, ease: "power4.inOut" },
            "intro+=1.8"
          );
        this.tlIntro.eventCallback("onComplete", function () {
          document.querySelector(".intro").style.display = "none";
          document.getElementsByClassName("arrow")[0].classList.add("visible");
          vm.scrollable = true;
        });
      } else {
        // this.tlIntro
        //     .set('.intro .word-wrapper-elle, .intro .word-wrapper-aime', {opacity:1})
        //     .fromTo('.intro .word-wrapper-elle', {x: "-200vw"},{x: "170vw", duration: 3, ease: "Linear.easeNone" }, "intro")
        //     .fromTo('.intro .word-wrapper-aime', {x: "150vw"},{x: "-250vw", duration: 3, ease: "Linear.easeNone" }, "intro+=1");
        // this.tlIntro.eventCallback("onComplete", function () {
        document.querySelector(".intro").style.display = "none";
        vm.loveDownDown.play();
        document
          .querySelector(".circle-container.love")
          .classList.add("visible");
        document.getElementsByClassName("arrow")[0].classList.add("visible");
        vm.scrollable = true;
        // });
      }
    } else {
      let vm = this;
      vm.scrollable = true;
      if (this.$device.ipad || this.$device.mobile) {
        document
          .querySelector(".circle-container.love")
          .classList.add("visible");
      }
      document.getElementsByClassName("arrow")[0].classList.add("visible");
      document.querySelector(".work-container").classList.remove("visible");
      this.loveDownDown.play();
    }

    if (!this.$device.ipad && !this.$device.mobile) {
      this.loveShowContent
        .to({}, 2.5, {})
        .to(
          ".love-content",
          { opacity: 1, duration: 1.2, ease: "power4.inOut" },
          "loveShowContent"
        )
        .from(
          ".marquee-text-text",
          { opacity: 0, duration: 1, ease: "power4.inOut" },
          "loveShowContent"
        )
        .from(
          ".love-description",
          { y: 20, opacity: 0, duration: 1.2, ease: "power4.inOut" },
          "loveShowContent+=0.4"
        )
        .from(
          ".social-link",
          { y: 50, duration: 1.1, ease: "power4.inOut" },
          "loveShowContent+=0.9"
        )
        .from(
          ".infos-link a",
          { y: 50, duration: 1.1, ease: "power4.inOut" },
          "loveShowContent+=0.9"
        )
        .from(
          ".developped-link",
          { y: 50, duration: 1.1, ease: "power4.inOut" },
          "loveShowContent+=0.9"
        );

      if (document.querySelector(".about-block") === null) {
        this.createAbout();
      }
      this.letterContainer("about-block");
      this.letterContainer("link-indication");

      const staggerLink = document.querySelector('.project-link');
      // const hoverEffect = new TimelineMax({ paused: false, delay: 1});

    } else {
      this.loveShowContent
        .to({}, 2.5, {})
        .to(
          ".love-content",
          { opacity: 1, duration: 1.2, ease: "power4.inOut" },
          "loveShowContent"
        )
        .from(
          ".marquee-text-text",
          { opacity: 0, duration: 1.5, ease: "power4.inOut" },
          "loveShowContent"
        )
        .from(
          ".love-description",
          { y: 20, opacity: 0, duration: 1.8, ease: "power4.inOut" },
          "loveShowContent+=0.8"
        )
        .from(
          ".infos-link a",
          { y: 80, duration: 1.5, ease: "power4.inOut" },
          "loveShowContent+=1.3"
        )
        .from(
          ".social-link",
          { y: 80, duration: 1.5, ease: "power4.inOut" },
          "loveShowContent+=1.8"
        )
        .from(
          ".developped-link",
          { y: 80, duration: 1.5, ease: "power4.inOut" },
          "loveShowContent+=2.3"
        );
    }

    this.loveShowContent.eventCallback("onComplete", function () {
      document.querySelector(".cross").classList.add("active");
      document.querySelector(".developped").classList.add("overflow");
    });

    if (!this.$device.ipad && !this.$device.mobile) {
      this.LoveClickTl.to({}, 1.5, {});
    } else {
      this.LoveClickTl.to({}, 1.5, {});
    }

    for (let word of document.getElementsByClassName("about-block")) {
      const letters = word.childNodes;
      for (let i = 0; i < letters.length; i++) {
        var yValue = Math.floor(Math.random() * 10) + 1;
        if (i % 2 == 0) {
          vm.hoverEffect.fromTo(
            letters[i],
            1.8,
            { y: -yValue, opacity: 0 },
            { y: 0, opacity: 1, ease: Power4.easeInOut, overwrite: false },
            "start"
          );
        } else {
          vm.hoverEffect.fromTo(
            letters[i],
            1.8,
            { y: yValue, opacity: 0 },
            { y: 0, opacity: 1, ease: Power4.easeInOut, overwrite: false },
            "start"
          );
        }
      }
    }
    this.hoverEffect.pause(0);

    this.workClickTl.to({}, 0.2, {});

    this.loveUpUp
      .fromTo(
        ".elle",
        { y: 0 },
        { y: -170, duration: 1, repeatRefresh: true, ease: "power4.inOut" },
        "loveUpUp"
      )
      .fromTo(
        ".aime",
        { y: 0 },
        { y: -170, duration: 1, repeatRefresh: true, ease: "power4.inOut" },
        "loveUpUp+=0.25"
      );

    this.loveUp
      .fromTo(
        ".elle",
        { y: 0 },
        { y: -170, duration: 1, repeatRefresh: true, ease: "power4.inOut" },
        "loveUpUp"
      )
      .fromTo(
        ".aime",
        { y: 0 },
        { y: -170, duration: 1, repeatRefresh: true, ease: "power4.inOut" },
        "loveUpUp+=0.25"
      );

    this.loveUpR
      .fromTo(
        ".elle",
        { y: 170 },
        { y: 0, duration: 1, repeatRefresh: true, ease: "power4.inOut" },
        "loveUpUp"
      )
      .fromTo(
        ".aime",
        { y: 170 },
        { y: 0, duration: 1, repeatRefresh: true, ease: "power4.inOut" },
        "loveUpUp+=0.25"
      );

    this.loveDown
      .fromTo(
        ".aime",
        { y: 0 },
        { y: 170, duration: 1, repeatRefresh: true, ease: "power4.inOut" },
        "lmUp"
      )
      .fromTo(
        ".elle",
        { y: 0 },
        { y: 170, duration: 1, repeatRefresh: true, ease: "power4.inOut" },
        "lmUp+=0.25"
      );

    this.loveDownDown
      .fromTo(
        ".aime",
        { y: -170 },
        { y: 0, duration: 1, repeatRefresh: true, ease: "power4.inOut" },
        "lmUp"
      )
      .fromTo(
        ".elle",
        { y: -170 },
        { y: 0, duration: 1, repeatRefresh: true, ease: "power4.inOut" },
        "lmUp+=0.25"
      );

    this.workUp.fromTo(
      ".work",
      { y: 170 },
      { y: 0, duration: 1, ease: "power4.inOut", stagger: 0.3 },
      "workInit"
    );

    this.workUpUp.fromTo(
      ".work",
      { y: 0 },
      { y: -170, duration: 1, ease: "power4.inOut", stagger: 0.3 },
      "workInit"
    );

    this.workDownDown.fromTo(
      ".work",
      { y: -170 },
      { y: 0, duration: 1, ease: "power4.inOut", stagger: -0.3 },
      "workInit"
    );

    this.workDown.fromTo(
      ".work",
      { y: 0 },
      { y: 170, duration: 1, ease: "power4.inOut", stagger: -0.3 },
      "workInit"
    );


    for(let word of document.getElementsByClassName("link-indication")){
        const letters = word.childNodes;
        for(let i=0; i<letters.length; i++ ){
            var yValue= Math.floor(Math.random() * 12) + 1;
            if(i % 2 == 0){
                this.linkAppear.fromTo(letters[i], 0.4, {y: 0},{y: -yValue, opacity:0, ease: Power4.easeIn, overwrite: false}, "start");
            }else{
                this.linkAppear.fromTo(letters[i], 0.4, {y: 0},{y: yValue, opacity:0, ease: Power4.easeIn, overwrite: false}, "start");
            }
        }
    }

    this.keySlide();
  },
};
</script>

<style lang="scss" scoped>
body {
  overflow: hidden;
}

.arrow {
  position: fixed;
  bottom: 25px;
  left: 50%;
  padding: 20px;
  opacity: 0;
  transition: 0.5s ease;
  transform: translate(-50%, -50%);
  animation: upNdown 1s infinite alternate;
  z-index: 60;
  &.visible {
    opacity: 1;
    bottom: 25px;
    transition: 0.8s ease;
    transition-delay: 1s;
  }
  @keyframes upNdown {
    0% {
      transform: translate(-50%, -0px);
    }
    100% {
      transform: translate(-50%, -10px);
    }
  }
}
.intro {
  position: absolute;
  top: 0;
  left: 0;
  width: 100vw;
  height: 100vh;
  display: flex;
  justify-content: center;
  align-items: center;
  background-color: #fff;
  z-index: 20;
  &.hide {
    display: none;
  }
  .word-container {
    &:hover {
      .word,
      .elle,
      .aime,
      .hide {
        color: black;
        .hide-left {
          color: black;
        }
      }
    }
    .word {
      line-height: 260px;
    }
    .word-wrapper-aime {
      top: -89px;
      left: 125px;
      @media (max-width: 680px) {
        opacity: 0;
      }
    }
    .word-wrapper-elle {
      bottom: -88px;
      left: -79px;
      @media (max-width: 680px) {
        opacity: 0;
      }
    }
    .hide {
      .hide-left {
        transform: translateX(0);
        opacity: 1;
      }
    }
  }
}

.hold-on {
  display: none;
  -webkit-user-select: none;
  -webkit-touch-callout: none;
  -moz-user-select: none;
  -ms-user-select: none;
  user-select: none;
  @media (max-width: 780px) {
    display: flex;
    justify-content: center;
    align-items: center;
    position: fixed;
    bottom: 80px;
    left: 50%;
    transform: translateX(-50%);
    width: 70px;
    height: 70px;
    margin: 0 auto;
    font-size: 12px;
    border: 1px solid #b4b3b1;
    border-radius: 200px;
    color: #b4b3b1;
    font-family: "GTWalsheimProRegular";
    text-transform: uppercase;
    z-index: 999;
  }
}
.circle-container {
  display: inline-block;
  position: relative;
  display: flex;
  justify-content: center;
  display: none;
  -webkit-user-select: none;
  -webkit-touch-callout: none;
  -moz-user-select: none;
  -ms-user-select: none;
  user-select: none;
  @media (max-width: 780px) {
    display: flex;
    justify-content: center;
    align-items: center;
    position: fixed;
    bottom: 130px;
    left: 50%;
    transform: translateX(-50%);
    width: 92px;
    height: 92px;
    margin: 0 auto;
    font-size: 12px;
    color: #b4b3b1;
    font-family: "GTWalsheimProRegular";
    text-transform: uppercase;
    z-index: 9;
  }
  svg {
    transform: scale(1);
    opacity: 1;
    transition: all 2s ease;
  }
  &.visible {
    .circle-text {
      transform: translate(0px, 0);
      transition: all 1.2s cubic-bezier(0.22, 0.61, 0.36, 1) 0.08s;
      transition-delay: 1.2s;
    }
    .circle {
      .foreground {
        stroke-dashoffset: 0;
        transform: rotate(-90deg);
        transition: all 2s cubic-bezier(0.22, 0.61, 0.36, 1);
        transition-delay: 1.5s;
      }
    }
  }
  &.hold {
    svg {
      transform: scale(2);
      opacity: 0;
      transition: all 3s ease-in;
    }
  }
  .hover-text-container {
    overflow: hidden;
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
  }
  .circle-text {
    color: #b4b3b1;
    font-family: sans-serif;
    transform: translate(0px, 25px);
    text-transform: uppercase;
    pointer-events: none;
    white-space: nowrap;
    -webkit-user-select: none;
    -webkit-touch-callout: none;
    -moz-user-select: none;
    -ms-user-select: none;
    user-select: none;
    transition: all 2s cubic-bezier(0.22, 0.61, 0.36, 1);
  }
  .circle {
    height: 92px;
    width: 88px;
    .foreground {
      fill: transparent;
      stroke-dasharray: 377;
      stroke-dashoffset: 377;
      stroke: #b4b3b1;
      transform-origin: 50% 50%;
      transform: rotate(-90deg);
      transition: all 2s cubic-bezier(0.22, 0.61, 0.36, 1);
    }
  }
}
.project-link{
  position: relative;
  .link-indication-container{
    position: absolute;
    top: 93px;
    left: 50%;
    transform: translateX(-50%);
    .link-indication{
      color: black;
      font-size: 18px;
      font-family: 'GTWalsheimProMedium';
      // transform: translateY(100%);
      transition: all 0.8s cubic-bezier(0.22, 0.61, 0.36, 1);
      display: none;
      &.visible{
        display: inline-block;
      }
    }
  }
  @media (max-width: 680px) {
    .link-indication-container{
        top: 65px;
    }
  }
}

.homepage-container {
  position: relative;
  overflow: hidden;
  @media (max-width: 680px) {
    height: 100vh;
  }
  .work-container {
    position: absolute;
    top: 0;
    left: 0;
    display: none;
    &.visible {
      display: block;
      z-index: 50;
    }
  }
}
a {
  text-decoration: none;
  color: black;
  transition: all 0.6s ease;
}
.swiper-container {
  height: 100vh;
}
.swiper-slide {
  width: 100vw;
  // height: 100%!important;
}
.bg-love {
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background-color: green;
  opacity: 0;
  z-index: 5;
  pointer-events: none;
  transition: all 1.4s cubic-bezier(0.19, 0.77, 0.2, 1);
  &.visible {
    opacity: 1;
    transition: all 1.4s cubic-bezier(0.19, 0.77, 0.2, 1);
  }
  img {
    width: 100%;
    height: 100vh;
    object-fit: cover;
    display: none;
    &.visible {
      display: block;
    }
  }
}

.home-slide-content {
  position: relative;
  height: 100vh;
  min-height: -webkit-fill-available;
  height: 100vh;
  height: calc(1vh * 100);
  height: calc(var(--vh, 1vh) * 100);
  display: flex;
  flex-direction: column;
  justify-content: center;
  align-items: center;
}
.love-container {
  .word-container {
    z-index: 15;
  }
}
.word-container {
  display: block;
  font-size: 200px;
  text-align: center;
  font-weight: bold;
  cursor: none !important;
  @media (max-width: 680px) {
    font-size: 130px;
    position: relative;
    top: -80px;
  }
  .elle,
  .aime {
    .hide {
      transition: all 1.4s cubic-bezier(0.19, 0.77, 0.2, 1);
      .hide-left,
      .hide-right {
        transition: all 1.4s cubic-bezier(0.19, 0.77, 0.2, 1);
      }
    }
  }
  .work{
    transition: color 1.2s cubic-bezier(0.19, 0.77, 0.2, 1);
  }
  &.hover {

    .word,
    a {
      color: #ff9170;
      transition: all 0.9s cubic-bezier(0.19, 0.77, 0.2, 1);
    }
    .hide {
      color: #ff9170;
      transition: all 1.4s cubic-bezier(0.19, 0.77, 0.2, 1);
      .hide-right,
      .hide-left {
        color: #ff9170;
        transform: translateX(0);
        opacity: 1;
        transition: all 1.4s cubic-bezier(0.19, 0.77, 0.2, 1);
      }
    }
    // .word-wrapper {
    //   &-elle {
    //     left: -49px;
    //     transition: all 1.4s cubic-bezier(0.19, 0.77, 0.2, 1);
    //     transition: all 1.1s cubic-bezier(0.22, 0.61, 0.36, 1) 0.08s;
    //   }
    //   &-aime {
    //     left: 60px;
    //     transition: all 1.4s cubic-bezier(0.19, 0.77, 0.2, 1);
    //     transition: all 1.1s cubic-bezier(0.22, 0.61, 0.36, 1) 0.08s;
    //   }
    // }
    // .word-wrapper-work {
    //   transition: all 1.05s cubic-bezier(0.19, 0.77, 0.2, 1);
    //   &:nth-child(1) {
    //     position: relative;
    //     left: 73px;
    //   }
    //   &:nth-child(2) {
    //     position: relative;
    //     left: -46px;
    //   }
    //   &:nth-child(3) {
    //     position: relative;
    //     left: 2px;
    //   }
    // }
  }
  &:hover {
    cursor: pointer;
    .hide {
      color: #ff9170;
      transition: all 1.4s cubic-bezier(0.19, 0.77, 0.2, 1);
      .hide-right,
      .hide-left {
        color: #ff9170;
        transform: translateX(0);
        opacity: 1;
        transition: all 1.4s cubic-bezier(0.19, 0.77, 0.2, 1);
      }
    }
    //ELLE AIME
    .word-wrapper {
      &-elle {
        left: -79px;
        // transition: all 1.4s cubic-bezier(.19,.77,.2,1);
        transition: all 1.1s cubic-bezier(0.22, 0.61, 0.36, 1);
        @media (max-width: 680px) {
          left: -49px;
        }
      }
      &-aime {
        left: 125px;
        // transition: all 1.4s cubic-bezier(.19,.77,.2,1);
        transition: all 1.1s cubic-bezier(0.22, 0.61, 0.36, 1);
        @media (max-width: 680px) {
          left: 60px;
        }
      }

    }
    .elle {
      color: #ff9170;
      transition: color 1.2s cubic-bezier(0.19, 0.77, 0.2, 1);
    }
    .aime {
      color: #ff9170;
      transition: color 1.2s cubic-bezier(0.19, 0.77, 0.2, 1);
    }
    .work{
      color: #ff9170;
      transition: color 1.2s cubic-bezier(0.19, 0.77, 0.2, 1);
    }

    //WORK
    .word-wrapper-work {
      // transition: all 1.05s cubic-bezier(.19,.77,.2,1);
      &:nth-child(1) {
        position: relative;
        left: -13px;
      }
      &:nth-child(2) {
        position: relative;
        left: -83px;
      }
      &:nth-child(3) {
        position: relative;
        left: 92px;
      }
    }
  }
  &.clicked {
    .elle {
      // left: -79px;
      // transform: translateX(-80vh);
      // transition: all 2s cubic-bezier(.19,.77,.2,1);
    }
    .aime {
      // transform: translateX(80vh);
      // left: 125px;
      // transition: all 2s cubic-bezier(.19,.77,.2,1);
    }
    .hide {
      .hide-right,
      .hide-left {
        opacity: 1;
        transform: translateX(0);
      }
    }
  }

  .word {
    display: flex;
    line-height: 160px;
    color: black;
    -webkit-user-select: none;
    -moz-user-select: none;
    -ms-user-select: none;
    user-select: none;
  }
  .hide {
    width: auto;
    overflow: hidden;
    display: inline-block;
    color: black;
    .hide-right {
      color: black;
      transform: translateX(100%);
      opacity: 0;
    }
    .hide-left {
      color: black;
      transform: translateX(-100%);
      opacity: 0;
    }
  }
  .word-wrapper {
    overflow: hidden;
    &-elle {
      position: relative;
      bottom: -38px;
      left: -67px;
      // transition: all 1.6s cubic-bezier(0.38, 0.95, 0.55, 1);
      transition: all 1s cubic-bezier(0.19, 0.77, 0.2, 1);
      &.anim {
        transition: all 1.5s cubic-bezier(0.67, 0.07, 0.41, 0.88);
        transform: translateX(-70vw);
      }
      @media (max-width: 680px) {
        bottom: -48px;
        left: -27px;
      }
    }
    &-aime {
      position: relative;
      top: -39px;
      left: -25px;
      // transition: all 1.6s cubic-bezier(0.38, 0.95, 0.55, 1);
      transition: all 1s cubic-bezier(0.19, 0.77, 0.2, 1);
      &.anim {
        transition: all 1.5s cubic-bezier(0.67, 0.07, 0.41, 0.88);
        transform: translateX(70vw);
      }
      @media (max-width: 680px) {
        top: -58px;
        left: 3px;
      }
    }
    &-about {
      font-size: 18px;
      font-family: "GTWalsheimProMedium";
      margin-top: -5px;
      overflow: hidden;
    }
    &.overflow-visible {
      overflow: visible;
    }
  }
  //ELLE AIME

  //WORK

  .word-wrapper-work {
    transition: all 0.8s cubic-bezier(0.19, 0.77, 0.2, 1);
    transition: all 0.8s cubic-bezier(0.22, 0.61, 0.36, 1) 0.08s;

    &:nth-child(1) {
      position: relative;
      bottom: -77px;
      left: 27px;
      @media (max-width: 680px) {
        bottom: -106px;
        left: 0px;
      }
    }
    &:nth-child(2) {
      position: relative;
      left: 155px;
      @media (max-width: 680px) {
        left: 71px;
      }
    }
    &:nth-child(3) {
      position: relative;
      top: -73px;
      left: -79px;
      @media (max-width: 680px) {
        top: -99px;
        left: -82px;
      }
    }
  }
}
.work-container {
  .word-container {
    &.anim {
      .word-wrapper-work {
        transition: all 1.5s cubic-bezier(0.67, 0.07, 0.41, 0.88);

        &:nth-child(1) {
          transform: translateX(100vw);
        }
        &:nth-child(2) {
          transform: translateX(-80vw);
          transition-delay: 0.2s;
        }
        &:nth-child(3) {
          transform: translateX(95vw);
          transition-delay: 0.4s;
        }
      }
    }
  }
}
</style>
